# ç¬¬ä¸ƒç« :Pandasæ•°æ®å¤„ç†åŸºç¡€

> **AIå¤§æ¨¡å‹ç‰ˆ** - ä¸ºAIè®­ç»ƒå¸ˆæ‰“é€ çš„Pandaså®æˆ˜è¯¾ç¨‹
> **å­¦ä¹ ç›®æ ‡**: æŒæ¡æ•°æ®æ¸…æ´—æ ¸å¿ƒæŠ€èƒ½,ä¸ºAIè®­ç»ƒæ•°æ®å‡†å¤‡å·¥ä½œæ‰“åŸºç¡€
> **è¯¾ç¨‹æ—¶é•¿**: 3å°æ—¶(ä¸Šåˆè®²è¯¾+æ¼”ç¤º) + 3å°æ—¶(ä¸‹åˆç»ƒä¹ )
> **å®æˆ˜æ¡ˆä¾‹**: AIè®­ç»ƒæ•°æ®é¢„å¤„ç†å®Œæ•´æµç¨‹

---

## æœ¬ç« å­¦ä¹ è·¯çº¿å›¾

```
æ•°æ®è¯»å– â†’ æ•°æ®æ¢ç´¢ â†’ æ•°æ®æ¸…æ´— â†’ æ•°æ®ç­›é€‰ â†’ æ•°æ®ä¿å­˜
   â†“          â†“          â†“          â†“          â†“
CSVè¯»å†™   æŸ¥çœ‹ç»“æ„    ä¸‰æ¿æ–§å¤„ç†   æ¡ä»¶ç­›é€‰    ç»“æœå¯¼å‡º
```

**ä¸ºä»€ä¹ˆAIè®­ç»ƒå¸ˆå¿…é¡»å­¦Pandas?**
- 90%çš„AIè®­ç»ƒæ•°æ®éƒ½æ˜¯è¡¨æ ¼æ ¼å¼(CSV/Excel)
- æ•°æ®æ¸…æ´—æ˜¯æ¨¡å‹è®­ç»ƒå‰çš„å¿…ç»æ­¥éª¤
- è´¨æ£€å·¥ä½œéœ€è¦æ‰¹é‡å¤„ç†æ ‡æ³¨æ•°æ®
- æ•°æ®ç»Ÿè®¡å’Œåˆ†æèƒ½åŠ›æ˜¯æ™‹å‡å…³é”®

---

## 7.1 Pandasç¯å¢ƒå‡†å¤‡

### 7.1.1 å®‰è£…Pandas

```bash
# æ–¹æ³•1:ä½¿ç”¨pipå®‰è£…(æ¨è)
pip install pandas

# æ–¹æ³•2:å®‰è£…æ•°æ®åˆ†æå…¨å®¶æ¡¶
pip install pandas numpy openpyxl

# éªŒè¯å®‰è£…
python -c "import pandas as pd; print(pd.__version__)"
```

**ç‰ˆæœ¬é€‰æ‹©å»ºè®®**:
- Pandas >= 1.3.0 (æ¨è2.0+,æ€§èƒ½æ›´å¥½)
- Python >= 3.8

### 7.1.2 å¯¼å…¥Pandas

```python
import pandas as pd  # pdæ˜¯çº¦å®šä¿—æˆçš„åˆ«å

# å¸¸ç”¨çš„é…å¥—åº“
import numpy as np   # æ•°å€¼è®¡ç®—
```

**âš ï¸ æ³¨æ„äº‹é¡¹**:
- å¿…é¡»ä½¿ç”¨`import pandas as pd`,è¿™æ˜¯è¡Œä¸šæ ‡å‡†
- å¦‚æœæŠ¥é”™`No module named 'pandas'`,è¯´æ˜æ²¡å®‰è£…æˆåŠŸ

---

## 7.2 CSVæ–‡ä»¶è¯»å†™

### 7.2.1 è¯»å–CSVæ–‡ä»¶

**åŸºç¡€è¯»å–**:
```python
# è¯»å–CSVæ–‡ä»¶
df = pd.read_csv('data.csv')

# æŸ¥çœ‹å‰5è¡Œ
print(df.head())

# æŸ¥çœ‹åŸºæœ¬ä¿¡æ¯
print(df.info())
```

**å¸¸ç”¨å‚æ•°**:
```python
# æŒ‡å®šç¼–ç (å¤„ç†ä¸­æ–‡)
df = pd.read_csv('data.csv', encoding='utf-8')

# æŒ‡å®šåˆ†éš”ç¬¦(æœ‰äº›CSVç”¨åˆ†å·)
df = pd.read_csv('data.csv', sep=';')

# è·³è¿‡å‰Nè¡Œ
df = pd.read_csv('data.csv', skiprows=2)

# åªè¯»å–æŒ‡å®šåˆ—
df = pd.read_csv('data.csv', usecols=['å§“å', 'å¹´é¾„'])

# å¤„ç†ç¼ºå¤±å€¼
df = pd.read_csv('data.csv', na_values=['NA', 'ç©º', 'æœªçŸ¥'])
```

**ğŸ¯ å®æˆ˜åœºæ™¯**:
```python
# AIè®­ç»ƒæ•°æ®è¯»å–ç¤ºä¾‹
# å‡è®¾æ ‡æ³¨å›¢é˜Ÿå¯¼å‡ºçš„CSVæ ¼å¼ä¸º:æ–‡ä»¶å,æ ‡ç­¾,æ ‡æ³¨å‘˜,è´¨æ£€çŠ¶æ€
df = pd.read_csv(
    'label_data.csv',
    encoding='utf-8',           # æ”¯æŒä¸­æ–‡æ ‡ç­¾
    na_values=['æœªæ ‡æ³¨', ''],   # å¤„ç†ç©ºæ ‡æ³¨
    parse_dates=['æ ‡æ³¨æ—¶é—´']    # è‡ªåŠ¨è§£ææ—¶é—´
)
```

### 7.2.2 ä¿å­˜CSVæ–‡ä»¶

```python
# åŸºç¡€ä¿å­˜
df.to_csv('output.csv', index=False)  # index=Falseä¸ä¿å­˜è¡Œå·

# æŒ‡å®šç¼–ç (æ¨èutf-8-sig,Excelèƒ½æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡)
df.to_csv('output.csv', index=False, encoding='utf-8-sig')

# åªä¿å­˜éƒ¨åˆ†åˆ—
df[['æ–‡ä»¶å', 'æ ‡ç­¾']].to_csv('output.csv', index=False)

# è¿½åŠ æ¨¡å¼(ä¸è¦†ç›–åŸæ–‡ä»¶)
df.to_csv('output.csv', mode='a', header=False, index=False)
```

**ğŸ’¡ æœ€ä½³å®è·µ**:
```python
# AIè®­ç»ƒæ•°æ®å¯¼å‡ºæ ‡å‡†æ ¼å¼
df.to_csv(
    f'clean_data_{pd.Timestamp.now().strftime("%Y%m%d")}.csv',  # æ–‡ä»¶åå¸¦æ—¥æœŸ
    index=False,
    encoding='utf-8-sig',  # Excelå…¼å®¹
    float_format='%.2f'    # æµ®ç‚¹æ•°ä¿ç•™2ä½å°æ•°
)
```

---

## 7.3 æ•°æ®æ¢ç´¢ä¸æŸ¥çœ‹

### 7.3.1 æŸ¥çœ‹æ•°æ®ç»“æ„

```python
# æŸ¥çœ‹å‰5è¡Œ
df.head()

# æŸ¥çœ‹å5è¡Œ
df.tail()

# æŸ¥çœ‹æŒ‡å®šè¡Œæ•°
df.head(10)

# æŸ¥çœ‹æ•°æ®ç»´åº¦(è¡Œæ•°,åˆ—æ•°)
df.shape  # è¾“å‡º: (1000, 5) è¡¨ç¤º1000è¡Œ5åˆ—

# æŸ¥çœ‹åˆ—å
df.columns

# æŸ¥çœ‹æ•°æ®ç±»å‹
df.dtypes

# æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
df.info()
```

**è¾“å‡ºç¤ºä¾‹**:
```
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 1000 entries, 0 to 999
Data columns (total 5 columns):
 #   Column  Non-Null Count  Dtype
---  ------  --------------  -----
 0   æ–‡ä»¶å    1000 non-null   object
 1   æ ‡ç­¾     950 non-null    object  # âš ï¸ æœ‰50ä¸ªç¼ºå¤±å€¼
 2   æ ‡æ³¨å‘˜    1000 non-null   object
 3   è´¨æ£€çŠ¶æ€   800 non-null    object  # âš ï¸ æœ‰200ä¸ªç¼ºå¤±å€¼
 4   æ ‡æ³¨æ—¶é—´   1000 non-null   object
```

### 7.3.2 æ•°æ®ç»Ÿè®¡

```python
# æ•°å€¼å‹æ•°æ®ç»Ÿè®¡
df.describe()

# æ‰€æœ‰åˆ—ç»Ÿè®¡(åŒ…æ‹¬æ–‡æœ¬åˆ—)
df.describe(include='all')

# å•åˆ—ç»Ÿè®¡
df['æ ‡ç­¾'].value_counts()  # ç»Ÿè®¡æ¯ä¸ªæ ‡ç­¾å‡ºç°æ¬¡æ•°

# ç¼ºå¤±å€¼ç»Ÿè®¡
df.isnull().sum()

# é‡å¤å€¼ç»Ÿè®¡
df.duplicated().sum()
```

**ğŸ¯ å®æˆ˜:å¿«é€Ÿè´¨æ£€æ ‡æ³¨æ•°æ®**
```python
print("=== æ ‡æ³¨æ•°æ®è´¨æ£€æŠ¥å‘Š ===")
print(f"æ€»æ ·æœ¬æ•°: {len(df)}")
print(f"ç¼ºå¤±æ ‡æ³¨: {df['æ ‡ç­¾'].isnull().sum()}ä¸ª")
print(f"é‡å¤æ ·æœ¬: {df.duplicated().sum()}ä¸ª")
print("\næ ‡ç­¾åˆ†å¸ƒ:")
print(df['æ ‡ç­¾'].value_counts())
print("\næ ‡æ³¨å‘˜å·¥ä½œé‡:")
print(df['æ ‡æ³¨å‘˜'].value_counts())
```

---

## 7.4 æ•°æ®æ¸…æ´—ä¸‰æ¿æ–§

### 7.4.1 ç¬¬ä¸€æ¿æ–§:å¤„ç†ç¼ºå¤±å€¼

**æ£€æµ‹ç¼ºå¤±å€¼**:
```python
# æŸ¥çœ‹å“ªäº›åœ°æ–¹æœ‰ç¼ºå¤±
df.isnull()  # Trueè¡¨ç¤ºç¼ºå¤±

# ç»Ÿè®¡æ¯åˆ—ç¼ºå¤±æ•°é‡
df.isnull().sum()

# å¯è§†åŒ–ç¼ºå¤±(ç”¨*æ ‡è®°)
df.isnull().sum().plot(kind='bar')
```

**å¤„ç†æ–¹æ³•**:

**æ–¹æ³•1:åˆ é™¤ç¼ºå¤±å€¼**
```python
# åˆ é™¤ä»»ä½•åˆ—æœ‰ç¼ºå¤±çš„è¡Œ
df_clean = df.dropna()

# åˆ é™¤ç‰¹å®šåˆ—æœ‰ç¼ºå¤±çš„è¡Œ
df_clean = df.dropna(subset=['æ ‡ç­¾'])

# åˆ é™¤å…¨éƒ¨ä¸ºç©ºçš„è¡Œ
df_clean = df.dropna(how='all')
```

**æ–¹æ³•2:å¡«å……ç¼ºå¤±å€¼**
```python
# ç”¨å›ºå®šå€¼å¡«å……
df['æ ‡ç­¾'].fillna('æœªåˆ†ç±»', inplace=True)

# ç”¨å‰ä¸€ä¸ªå€¼å¡«å……
df['è´¨æ£€çŠ¶æ€'].fillna(method='ffill', inplace=True)

# ç”¨å¹³å‡å€¼å¡«å……(æ•°å€¼å‹)
df['åˆ†æ•°'].fillna(df['åˆ†æ•°'].mean(), inplace=True)
```

**ğŸ¯ å®æˆ˜:AIæ ‡æ³¨æ•°æ®æ¸…æ´—**
```python
# ç­–ç•¥:æ ‡ç­¾ç¼ºå¤±çš„åˆ é™¤,è´¨æ£€çŠ¶æ€ç¼ºå¤±çš„å¡«å……ä¸º"å¾…è´¨æ£€"
df_clean = df.dropna(subset=['æ ‡ç­¾'])  # æ ‡ç­¾å¿…é¡»æœ‰
df_clean['è´¨æ£€çŠ¶æ€'].fillna('å¾…è´¨æ£€', inplace=True)
```

### 7.4.2 ç¬¬äºŒæ¿æ–§:å¤„ç†å¼‚å¸¸å€¼

**æ£€æµ‹å¼‚å¸¸å€¼**:
```python
# æ•°å€¼å‹å¼‚å¸¸(å¦‚å¹´é¾„ä¸å¯èƒ½æ˜¯-1æˆ–200)
df[(df['å¹´é¾„'] < 0) | (df['å¹´é¾„'] > 150)]

# æ–‡æœ¬å‹å¼‚å¸¸(å¦‚æ ‡ç­¾ä¸åœ¨å…è®¸èŒƒå›´å†…)
allowed_labels = ['çŒ«', 'ç‹—', 'é¸Ÿ']
df[~df['æ ‡ç­¾'].isin(allowed_labels)]
```

**å¤„ç†æ–¹æ³•**:

**æ–¹æ³•1:åˆ é™¤å¼‚å¸¸å€¼**
```python
# åˆ é™¤å¹´é¾„å¼‚å¸¸çš„è¡Œ
df_clean = df[(df['å¹´é¾„'] >= 0) & (df['å¹´é¾„'] <= 150)]
```

**æ–¹æ³•2:æ›¿æ¢å¼‚å¸¸å€¼**
```python
# å°†å¼‚å¸¸æ ‡ç­¾æ›¿æ¢ä¸º"å…¶ä»–"
df.loc[~df['æ ‡ç­¾'].isin(allowed_labels), 'æ ‡ç­¾'] = 'å…¶ä»–'

# å°†è´Ÿæ•°æ›¿æ¢ä¸ºç»å¯¹å€¼
df.loc[df['åˆ†æ•°'] < 0, 'åˆ†æ•°'] = df['åˆ†æ•°'].abs()
```

**ğŸ¯ å®æˆ˜:æ¸…æ´—AIå›¾ç‰‡åˆ†ç±»æ•°æ®**
```python
# å…è®¸çš„å›¾ç‰‡æ ¼å¼
valid_ext = ['.jpg', '.jpeg', '.png', '.bmp']

# æ£€æŸ¥æ–‡ä»¶æ‰©å±•å
df['æ‰©å±•å'] = df['æ–‡ä»¶å'].str.lower().str[-4:]
invalid = df[~df['æ‰©å±•å'].isin(valid_ext)]

print(f"å‘ç°{len(invalid)}ä¸ªæ— æ•ˆæ–‡ä»¶æ ¼å¼")
df_clean = df[df['æ‰©å±•å'].isin(valid_ext)]
```

### 7.4.3 ç¬¬ä¸‰æ¿æ–§:å¤„ç†é‡å¤å€¼

**æ£€æµ‹é‡å¤**:
```python
# æ£€æµ‹å®Œå…¨é‡å¤çš„è¡Œ
df.duplicated()

# ç»Ÿè®¡é‡å¤æ•°é‡
df.duplicated().sum()

# æŸ¥çœ‹é‡å¤çš„è¡Œ
df[df.duplicated(keep=False)]

# åŸºäºç‰¹å®šåˆ—æ£€æµ‹é‡å¤
df.duplicated(subset=['æ–‡ä»¶å'])
```

**å¤„ç†é‡å¤**:
```python
# åˆ é™¤å®Œå…¨é‡å¤çš„è¡Œ(ä¿ç•™ç¬¬ä¸€æ¬¡å‡ºç°)
df_clean = df.drop_duplicates()

# åŸºäºæ–‡ä»¶åå»é‡
df_clean = df.drop_duplicates(subset=['æ–‡ä»¶å'])

# ä¿ç•™æœ€åä¸€æ¬¡å‡ºç°
df_clean = df.drop_duplicates(subset=['æ–‡ä»¶å'], keep='last')
```

**ğŸ¯ å®æˆ˜:å»é™¤é‡å¤æ ‡æ³¨**
```python
# ç­–ç•¥:åŒä¸€æ–‡ä»¶å¦‚æœè¢«å¤šæ¬¡æ ‡æ³¨,ä¿ç•™æœ€æ–°çš„
df_clean = df.sort_values('æ ‡æ³¨æ—¶é—´')  # æŒ‰æ—¶é—´æ’åº
df_clean = df_clean.drop_duplicates(subset=['æ–‡ä»¶å'], keep='last')

print(f"å»é‡å‰:{len(df)}æ¡,å»é‡å:{len(df_clean)}æ¡")
```

---

## 7.5 æ•°æ®ç­›é€‰ä¸è¿‡æ»¤

### 7.5.1 æ¡ä»¶ç­›é€‰

**å•æ¡ä»¶**:
```python
# ç­›é€‰çŒ«çš„å›¾ç‰‡
cats = df[df['æ ‡ç­¾'] == 'çŒ«']

# ç­›é€‰åˆ†æ•°å¤§äº80çš„
high_score = df[df['åˆ†æ•°'] > 80]

# ç­›é€‰ç‰¹å®šæ ‡æ³¨å‘˜çš„æ•°æ®
zhang_data = df[df['æ ‡æ³¨å‘˜'] == 'å¼ ä¸‰']
```

**å¤šæ¡ä»¶(ä¸)**:
```python
# ç­›é€‰çŒ«ä¸”åˆ†æ•°>80çš„
result = df[(df['æ ‡ç­¾'] == 'çŒ«') & (df['åˆ†æ•°'] > 80)]
```

**å¤šæ¡ä»¶(æˆ–)**:
```python
# ç­›é€‰çŒ«æˆ–ç‹—çš„å›¾ç‰‡
result = df[(df['æ ‡ç­¾'] == 'çŒ«') | (df['æ ‡ç­¾'] == 'ç‹—')]
```

**ğŸ¯ å®æˆ˜:ç­›é€‰å¾…è´¨æ£€æ•°æ®**
```python
# ç­›é€‰å·²æ ‡æ³¨ä½†æœªè´¨æ£€çš„æ•°æ®
to_review = df[
    (df['æ ‡ç­¾'].notnull()) &              # æœ‰æ ‡ç­¾
    (df['è´¨æ£€çŠ¶æ€'] == 'å¾…è´¨æ£€')           # æœªè´¨æ£€
]
```

### 7.5.2 å­—ç¬¦ä¸²ç­›é€‰

```python
# åŒ…å«æŸä¸ªå…³é”®è¯
df[df['æ–‡ä»¶å'].str.contains('cat')]

# ä»¥æŸä¸ªå‰ç¼€å¼€å¤´
df[df['æ–‡ä»¶å'].str.startswith('IMG')]

# ä»¥æŸä¸ªåç¼€ç»“å°¾
df[df['æ–‡ä»¶å'].str.endswith('.jpg')]

# æ­£åˆ™åŒ¹é…
df[df['æ–‡ä»¶å'].str.match(r'\d{8}\.jpg')]  # åŒ¹é…8ä½æ•°å­—.jpg
```

### 7.5.3 isin()å¤šå€¼åŒ¹é…

```python
# ç­›é€‰å¤šä¸ªæ ‡ç­¾
animals = ['çŒ«', 'ç‹—', 'é¸Ÿ']
df[df['æ ‡ç­¾'].isin(animals)]

# ç­›é€‰å¤šä¸ªæ ‡æ³¨å‘˜
team_a = ['å¼ ä¸‰', 'æå››', 'ç‹äº”']
df[df['æ ‡æ³¨å‘˜'].isin(team_a)]
```

---

## 7.6 ç»¼åˆå®æˆ˜:AIè®­ç»ƒæ•°æ®é¢„å¤„ç†

### æ¡ˆä¾‹:å›¾ç‰‡åˆ†ç±»æ•°æ®é›†æ¸…æ´—

**åœºæ™¯æè¿°**:
- ä½ æ˜¯AIè®­ç»ƒå¸ˆ,æ”¶åˆ°ä¸€æ‰¹å›¾ç‰‡åˆ†ç±»æ ‡æ³¨æ•°æ®
- æ•°æ®æ ¼å¼:CSVæ–‡ä»¶,åŒ…å«æ–‡ä»¶åã€æ ‡ç­¾ã€æ ‡æ³¨å‘˜ã€è´¨æ£€çŠ¶æ€
- ä»»åŠ¡:æ¸…æ´—æ•°æ®,å¯¼å‡ºç¬¦åˆè®­ç»ƒè¦æ±‚çš„æ•°æ®é›†

**å®Œæ•´ä»£ç **:
```python
import pandas as pd

# ========== 1. è¯»å–æ•°æ® ==========
df = pd.read_csv('raw_label_data.csv', encoding='utf-8')
print(f"åŸå§‹æ•°æ®:{df.shape[0]}æ¡")

# ========== 2. æ•°æ®æ¢ç´¢ ==========
print("\n=== æ•°æ®è´¨é‡æ£€æŸ¥ ===")
print(f"ç¼ºå¤±æ ‡ç­¾:{df['æ ‡ç­¾'].isnull().sum()}ä¸ª")
print(f"é‡å¤æ–‡ä»¶:{df.duplicated(subset=['æ–‡ä»¶å']).sum()}ä¸ª")
print("\næ ‡ç­¾åˆ†å¸ƒ:")
print(df['æ ‡ç­¾'].value_counts())

# ========== 3. æ•°æ®æ¸…æ´— ==========
# 3.1 åˆ é™¤æ ‡ç­¾ç¼ºå¤±çš„è¡Œ
df_clean = df.dropna(subset=['æ ‡ç­¾'])

# 3.2 åˆ é™¤é‡å¤æ–‡ä»¶(ä¿ç•™æœ€æ–°æ ‡æ³¨)
df_clean = df_clean.sort_values('æ ‡æ³¨æ—¶é—´', ascending=False)
df_clean = df_clean.drop_duplicates(subset=['æ–‡ä»¶å'], keep='first')

# 3.3 åªä¿ç•™æœ‰æ•ˆæ ‡ç­¾
valid_labels = ['çŒ«', 'ç‹—', 'é¸Ÿ']
df_clean = df_clean[df_clean['æ ‡ç­¾'].isin(valid_labels)]

# 3.4 åªä¿ç•™å·²è´¨æ£€é€šè¿‡çš„
df_clean = df_clean[df_clean['è´¨æ£€çŠ¶æ€'] == 'é€šè¿‡']

# ========== 4. æ•°æ®éªŒè¯ ==========
print(f"\næ¸…æ´—åæ•°æ®:{df_clean.shape[0]}æ¡")
print("æœ€ç»ˆæ ‡ç­¾åˆ†å¸ƒ:")
print(df_clean['æ ‡ç­¾'].value_counts())

# ========== 5. å¯¼å‡ºç»“æœ ==========
# åªä¿å­˜è®­ç»ƒéœ€è¦çš„åˆ—
df_clean[['æ–‡ä»¶å', 'æ ‡ç­¾']].to_csv(
    'train_data_clean.csv',
    index=False,
    encoding='utf-8-sig'
)

print("\nâœ… æ•°æ®æ¸…æ´—å®Œæˆ!å·²ä¿å­˜åˆ°train_data_clean.csv")
```

**é¢„æœŸè¾“å‡º**:
```
åŸå§‹æ•°æ®:1000æ¡

=== æ•°æ®è´¨é‡æ£€æŸ¥ ===
ç¼ºå¤±æ ‡ç­¾:50ä¸ª
é‡å¤æ–‡ä»¶:80ä¸ª

æ ‡ç­¾åˆ†å¸ƒ:
çŒ«     350
ç‹—     320
é¸Ÿ     180
å…¶ä»–    100

æ¸…æ´—åæ•°æ®:720æ¡
æœ€ç»ˆæ ‡ç­¾åˆ†å¸ƒ:
çŒ«     300
ç‹—     280
é¸Ÿ     140

âœ… æ•°æ®æ¸…æ´—å®Œæˆ!å·²ä¿å­˜åˆ°train_data_clean.csv
```

---

## 7.7 ä½œä¸šä¸ç»ƒä¹ 

### åŸºç¡€ç»ƒä¹ 

**ç»ƒä¹ 1:è¯»å–ä¸æ¢ç´¢**
```python
# 1. è¯»å–data/students.csv
# 2. æŸ¥çœ‹æ•°æ®çš„å½¢çŠ¶ã€åˆ—åã€æ•°æ®ç±»å‹
# 3. ç»Ÿè®¡æ¯åˆ—çš„ç¼ºå¤±å€¼æ•°é‡
```

**ç»ƒä¹ 2:æ•°æ®æ¸…æ´—**
```python
# åŸºäºstudents.csv:
# 1. åˆ é™¤å¹´é¾„åˆ—æœ‰ç¼ºå¤±çš„è¡Œ
# 2. å°†æˆç»©åˆ—çš„ç¼ºå¤±å€¼å¡«å……ä¸ºå¹³å‡åˆ†
# 3. åˆ é™¤å®Œå…¨é‡å¤çš„è¡Œ
# 4. ä¿å­˜æ¸…æ´—åçš„æ•°æ®
```

### è¿›é˜¶ç»ƒä¹ 

**ç»ƒä¹ 3:AIæ•°æ®è´¨æ£€**
```python
# åŸºäºdata/label_results.csv:
# 1. ç»Ÿè®¡æ¯ä¸ªæ ‡æ³¨å‘˜çš„å·¥ä½œé‡(æ ‡æ³¨æ•°é‡)
# 2. æ‰¾å‡ºæ ‡æ³¨æ•°é‡æœ€å¤šçš„å‰3åæ ‡æ³¨å‘˜
# 3. ç»Ÿè®¡æ¯ä¸ªæ ‡ç­¾çš„è´¨æ£€é€šè¿‡ç‡
# 4. ç­›é€‰å‡ºè´¨æ£€æœªé€šè¿‡çš„æ•°æ®,å•ç‹¬ä¿å­˜
```

**ç»ƒä¹ 4:ç»¼åˆåº”ç”¨**
```python
# åŸºäºdata/image_annotations.csv:
# ä»»åŠ¡:å‡†å¤‡ä¸€ä¸ªå¹²å‡€çš„è®­ç»ƒæ•°æ®é›†
# è¦æ±‚:
# 1. åªä¿ç•™.jpgå’Œ.pngæ ¼å¼çš„å›¾ç‰‡
# 2. åˆ é™¤æ ‡ç­¾ä¸ºç©ºçš„æ•°æ®
# 3. å»é™¤é‡å¤æ–‡ä»¶(ä¿ç•™æœ€æ–°æ ‡æ³¨)
# 4. åªä¿ç•™è´¨æ£€é€šè¿‡çš„æ•°æ®
# 5. ç¡®ä¿æ¯ä¸ªç±»åˆ«è‡³å°‘æœ‰100ä¸ªæ ·æœ¬
# 6. å¯¼å‡ºæ–‡ä»¶åå’Œæ ‡ç­¾ä¸¤åˆ—,ä¿å­˜ä¸ºtrain_dataset.csv
```

---

## 7.8 å¸¸è§é—®é¢˜ä¸è§£å†³

### Q1: è¯»å–CSVæ—¶ä¸­æ–‡ä¹±ç 

**é—®é¢˜**:
```python
df = pd.read_csv('data.csv')
# ä¸­æ–‡æ˜¾ç¤ºä¸ºä¹±ç 
```

**è§£å†³**:
```python
# å°è¯•ä¸åŒç¼–ç 
df = pd.read_csv('data.csv', encoding='utf-8')
df = pd.read_csv('data.csv', encoding='gbk')
df = pd.read_csv('data.csv', encoding='gb18030')
```

### Q2: SettingWithCopyWarningè­¦å‘Š

**é—®é¢˜**:
```python
df[df['å¹´é¾„'] > 18]['æˆç»©'] = 100  # âš ï¸ è­¦å‘Š
```

**è§£å†³**:
```python
# ä½¿ç”¨.loc[]
df.loc[df['å¹´é¾„'] > 18, 'æˆç»©'] = 100
```

### Q3: inplace=Trueæ˜¯ä»€ä¹ˆæ„æ€?

**åŒºåˆ«**:
```python
# ä¸ä½¿ç”¨inplace:è¿”å›æ–°DataFrame,åŸæ•°æ®ä¸å˜
df_new = df.dropna()

# ä½¿ç”¨inplace:ç›´æ¥ä¿®æ”¹åŸDataFrame,ä¸è¿”å›å€¼
df.dropna(inplace=True)
```

**å»ºè®®**: åˆå­¦è€…ä¸ä½¿ç”¨inplace,æ˜ç¡®çœ‹åˆ°æ–°æ—§æ•°æ®çš„å˜åŒ–

### Q4: å¦‚ä½•ä¿å­˜æ—¶ä¸è¦è¡Œå·?

```python
# é”™è¯¯:ä¿å­˜æ—¶ä¼šå¤šä¸€åˆ—Unnamed: 0
df.to_csv('output.csv')

# æ­£ç¡®:åŠ ä¸Šindex=False
df.to_csv('output.csv', index=False)
```

---

## 7.9 æœ¬ç« å°ç»“

### æ ¸å¿ƒçŸ¥è¯†ç‚¹

âœ… **Pandasç¯å¢ƒå®‰è£…ä¸å¯¼å…¥**
- `pip install pandas`
- `import pandas as pd`

âœ… **CSVè¯»å†™**
- è¯»å–:`pd.read_csv(file, encoding='utf-8')`
- ä¿å­˜:`df.to_csv(file, index=False, encoding='utf-8-sig')`

âœ… **æ•°æ®æ¢ç´¢**
- æŸ¥çœ‹:`head()` `tail()` `info()` `describe()`
- ç»Ÿè®¡:`shape` `columns` `dtypes` `value_counts()`

âœ… **æ•°æ®æ¸…æ´—ä¸‰æ¿æ–§**
- ç¼ºå¤±å€¼:`isnull()` `dropna()` `fillna()`
- å¼‚å¸¸å€¼:æ¡ä»¶ç­›é€‰ + æ›¿æ¢/åˆ é™¤
- é‡å¤å€¼:`duplicated()` `drop_duplicates()`

âœ… **æ•°æ®ç­›é€‰**
- å•æ¡ä»¶:`df[df['åˆ—'] == å€¼]`
- å¤šæ¡ä»¶:`df[(æ¡ä»¶1) & (æ¡ä»¶2)]`
- å­—ç¬¦ä¸²:`str.contains()` `str.startswith()`
- å¤šå€¼åŒ¹é…:`isin([å€¼1, å€¼2])`

### ä¸AIè®­ç»ƒå¸ˆå·¥ä½œçš„å…³ç³»

| å·¥ä½œç¯èŠ‚ | ç”¨åˆ°çš„PandasæŠ€èƒ½ |
|---------|-----------------|
| æ ‡æ³¨æ•°æ®è´¨æ£€ | ç¼ºå¤±å€¼æ£€æµ‹ã€é‡å¤å€¼æ£€æµ‹ |
| æ•°æ®æ ¼å¼è½¬æ¢ | CSVè¯»å†™ã€åˆ—ç­›é€‰ |
| æ•°æ®ç»Ÿè®¡åˆ†æ | value_counts()ã€describe() |
| è®­ç»ƒé›†å‡†å¤‡ | æ¡ä»¶ç­›é€‰ã€æ•°æ®æ¸…æ´— |
| è´¨æ£€æŠ¥å‘Šç”Ÿæˆ | åˆ†ç»„ç»Ÿè®¡ã€æ•°æ®å¯¼å‡º |

### ä¸‹ä¸€æ­¥å­¦ä¹ 

- **ç¬¬å…«ç« **:AIæ ‡æ³¨å®æˆ˜(Label Studioä½¿ç”¨)
- **ç¬¬ä¹ç« **:é¡¹ç›®å®æˆ˜(æ–‡æœ¬æ¸…æ´—+å›¾ç‰‡åˆ†ç±»)
- **ç¬¬åç« **:æ¯•ä¸šé¡¹ç›®(ç»¼åˆæ•°æ®å¤„ç†å·¥å…·)

---

## é™„å½•:Pandasé€ŸæŸ¥è¡¨

### è¯»å–æ•°æ®
```python
pd.read_csv(file)           # è¯»å–CSV
pd.read_excel(file)         # è¯»å–Excel
```

### æŸ¥çœ‹æ•°æ®
```python
df.head(n)                  # æŸ¥çœ‹å‰nè¡Œ
df.tail(n)                  # æŸ¥çœ‹ånè¡Œ
df.shape                    # è¡Œåˆ—æ•°
df.columns                  # åˆ—å
df.info()                   # è¯¦ç»†ä¿¡æ¯
df.describe()               # ç»Ÿè®¡æ‘˜è¦
```

### ç¼ºå¤±å€¼
```python
df.isnull()                 # æ£€æµ‹ç¼ºå¤±
df.dropna()                 # åˆ é™¤ç¼ºå¤±
df.fillna(value)            # å¡«å……ç¼ºå¤±
```

### é‡å¤å€¼
```python
df.duplicated()             # æ£€æµ‹é‡å¤
df.drop_duplicates()        # åˆ é™¤é‡å¤
```

### ç­›é€‰
```python
df[df['åˆ—'] == å€¼]          # å•æ¡ä»¶
df[(æ¡ä»¶1) & (æ¡ä»¶2)]       # å¤šæ¡ä»¶(ä¸)
df[(æ¡ä»¶1) | (æ¡ä»¶2)]       # å¤šæ¡ä»¶(æˆ–)
df['åˆ—'].isin([å€¼1, å€¼2])   # å¤šå€¼åŒ¹é…
```

### ä¿å­˜æ•°æ®
```python
df.to_csv(file, index=False)           # ä¿å­˜CSV
df.to_excel(file, index=False)         # ä¿å­˜Excel
```

---

**è¯¾ç¨‹ç»“æŸ!** ğŸ‰

ä¸‹ä¸€ç« æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨Label Studioè¿›è¡ŒAIæ•°æ®æ ‡æ³¨å®æˆ˜!
