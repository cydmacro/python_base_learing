# å…¸å‹æ¡ˆä¾‹å±•ç¤º

> æœ¬æ–‡æ¡£å±•ç¤ºAIè®­ç»ƒå¸ˆå²—ä½çš„3ä¸ªçœŸå®å·¥ä½œåœºæ™¯,å¸®åŠ©å­¦å‘˜ç†è§£æ‰€å­¦æŠ€èƒ½çš„å®é™…åº”ç”¨

---

## æ¡ˆä¾‹1: ç”µå•†å•†å“å›¾ç‰‡æ•°æ®æ ‡æ³¨é¡¹ç›®

### é¡¹ç›®èƒŒæ™¯

**å®¢æˆ·**: æŸå¤§å‹ç”µå•†å¹³å°
**éœ€æ±‚**: è®­ç»ƒå•†å“å›¾ç‰‡åˆ†ç±»AIæ¨¡å‹,éœ€è¦æ ‡æ³¨50000å¼ å•†å“å›¾ç‰‡
**ç±»åˆ«**: æœè£…ã€ç”µå­äº§å“ã€é£Ÿå“ã€å®¶å±…ç”¨å“ã€ç¾å¦†ã€æ¯å©´(6ä¸ªç±»åˆ«)
**æ—¶é—´**: 30å¤©å®Œæˆ

### æŠ€æœ¯è¦æ±‚

**ç”¨åˆ°çš„PythonæŠ€èƒ½**:
- Pandasè¯»å–CSVæ ¼å¼çš„æ ‡æ³¨ä»»åŠ¡åˆ—è¡¨
- æ‰¹é‡å¤„ç†å›¾ç‰‡æ–‡ä»¶å(é‡å‘½å/åˆ†ç±»)
- æ•°æ®è´¨é‡æ£€æŸ¥(ç¼ºå¤±å€¼/é‡å¤å€¼)
- ç”Ÿæˆæ ‡æ³¨è¿›åº¦æŠ¥å‘Š

**ç”¨åˆ°çš„å·¥å…·**:
- Label Studio(æ ‡æ³¨å·¥å…·)
- Pythonè„šæœ¬(è‡ªåŠ¨åŒ–å¤„ç†)
- Excel(è´¨æ£€æŠ¥å‘Š)

### å·¥ä½œæµç¨‹

**ç¬¬1å‘¨:æ•°æ®å‡†å¤‡**
```python
# 1. æ‰¹é‡é‡å‘½åå›¾ç‰‡
import os

for i, filename in enumerate(os.listdir('raw_images')):
    new_name = f'product_{i+1:05d}.jpg'
    os.rename(f'raw_images/{filename}', f'processed/{new_name}')

# 2. ç”Ÿæˆæ ‡æ³¨ä»»åŠ¡æ¸…å•
import pandas as pd

files = os.listdir('processed')
df = pd.DataFrame({'æ–‡ä»¶å': files, 'æ ‡ç­¾': ''})
df.to_csv('annotation_tasks.csv', index=False)
```

**ç¬¬2-4å‘¨:æ ‡æ³¨ä¸è´¨æ£€**
- 10åæ ‡æ³¨å‘˜å¹¶è¡Œæ ‡æ³¨
- æ¯äººæ¯å¤©å®Œæˆ200å¼ 
- 2åè´¨æ£€å‘˜æŠ½æ£€20%æ•°æ®
- ä½¿ç”¨Pythonè„šæœ¬ç»Ÿè®¡è¿›åº¦

```python
# æ¯æ—¥è¿›åº¦ç»Ÿè®¡è„šæœ¬
import pandas as pd

df = pd.read_csv('labels.csv')

# ç»Ÿè®¡æ¯ä¸ªæ ‡æ³¨å‘˜çš„å·¥ä½œé‡
work_stats = df['æ ‡æ³¨å‘˜'].value_counts()
print("ä»Šæ—¥å·¥ä½œé‡:")
print(work_stats)

# ç»Ÿè®¡æ€»è¿›åº¦
total = 50000
done = len(df[df['æ ‡ç­¾'].notna()])
progress = done / total * 100
print(f"\næ€»è¿›åº¦: {progress:.1f}% ({done}/{total})")
```

**ç¬¬5å‘¨:æ•°æ®æ¸…æ´—ä¸å¯¼å‡º**
```python
import pandas as pd

# è¯»å–æ ‡æ³¨æ•°æ®
df = pd.read_csv('raw_labels.csv')

# æ•°æ®æ¸…æ´—
df = df.dropna(subset=['æ ‡ç­¾'])  # åˆ é™¤æœªæ ‡æ³¨
df = df.drop_duplicates(subset=['æ–‡ä»¶å'])  # å»é‡
df = df[df['æ ‡ç­¾'].isin(['æœè£…','ç”µå­','é£Ÿå“','å®¶å±…','ç¾å¦†','æ¯å©´'])]  # åªä¿ç•™æœ‰æ•ˆæ ‡ç­¾

# æ£€æŸ¥æ•°æ®å‡è¡¡æ€§
label_dist = df['æ ‡ç­¾'].value_counts()
print(label_dist)

# å¯¼å‡ºè®­ç»ƒæ•°æ®
df[['æ–‡ä»¶å', 'æ ‡ç­¾']].to_csv('train_dataset.csv', index=False)
```

### é¡¹ç›®æˆæœ

- âœ… æŒ‰æ—¶å®Œæˆ50000å¼ å›¾ç‰‡æ ‡æ³¨
- âœ… æ ‡æ³¨å‡†ç¡®ç‡98.5%(è´¨æ£€æŠ½æ ·)
- âœ… æ•°æ®åˆ†å¸ƒå‡è¡¡(æ¯ä¸ªç±»åˆ«8000Â±500å¼ )
- âœ… å®¢æˆ·æ»¡æ„åº¦:äº”æ˜Ÿå¥½è¯„

### å­¦å‘˜èƒ½åšçš„å·¥ä½œ

é€šè¿‡æˆ‘çš„10å¤©è¯¾ç¨‹,å­¦å‘˜å¯ä»¥èƒœä»»:
- **æ ‡æ³¨å‘˜**: ä½¿ç”¨Label Studioæ ‡æ³¨å›¾ç‰‡
- **è´¨æ£€å‘˜**: æ£€æŸ¥æ ‡æ³¨è´¨é‡,ç»Ÿè®¡é”™è¯¯ç‡
- **æ•°æ®å¤„ç†**: ç”¨Pythonè„šæœ¬æ¸…æ´—æ•°æ®
- **è¿›åº¦ç»Ÿè®¡**: è‡ªåŠ¨ç”Ÿæˆå·¥ä½œé‡æŠ¥å‘Š

---

## æ¡ˆä¾‹2: å®¢æœå¯¹è¯æ•°æ®æ¸…æ´—ä¸æ ‡æ³¨

### é¡¹ç›®èƒŒæ™¯

**å®¢æˆ·**: æŸåœ¨çº¿æ•™è‚²å¹³å°
**éœ€æ±‚**: è®­ç»ƒæ™ºèƒ½å®¢æœå¯¹è¯AI,éœ€è¦å¤„ç†100000æ¡å†å²å¯¹è¯è®°å½•
**ä»»åŠ¡**: æ¸…æ´—æ•°æ® + æƒ…æ„Ÿæ ‡æ³¨(æ­£é¢/è´Ÿé¢/ä¸­æ€§)
**æ—¶é—´**: 20å¤©å®Œæˆ

### æŠ€æœ¯è¦æ±‚

**ç”¨åˆ°çš„PythonæŠ€èƒ½**:
- æ–‡æœ¬æ¸…æ´—(æ­£åˆ™è¡¨è¾¾å¼)
- Pandasæ•°æ®å¤„ç†
- æ•°æ®ç­›é€‰(æ¡ä»¶è¿‡æ»¤)
- è´¨é‡åˆ†ææŠ¥å‘Šç”Ÿæˆ

### æ•°æ®é—®é¢˜

åŸå§‹å¯¹è¯æ•°æ®å­˜åœ¨çš„é—®é¢˜:
- åŒ…å«å¤§é‡æ— æ•ˆå­—ç¬¦(è¡¨æƒ…ç¬¦å·ã€HTMLæ ‡ç­¾)
- å­˜åœ¨é‡å¤å¯¹è¯
- éƒ¨åˆ†å¯¹è¯ä¸ºç©ºæˆ–æ— æ„ä¹‰("å“¦"ã€"å—¯")
- æ ¼å¼ä¸ç»Ÿä¸€(æœ‰çš„æœ‰æ—¶é—´æˆ³,æœ‰çš„æ²¡æœ‰)

### è§£å†³æ–¹æ¡ˆ

**æ­¥éª¤1: æ–‡æœ¬æ¸…æ´—**
```python
import pandas as pd
import re

def clean_text(text):
    """æ¸…æ´—å•æ¡å¯¹è¯"""
    if pd.isna(text):
        return ''

    # å»é™¤HTMLæ ‡ç­¾
    text = re.sub(r'<[^>]+>', '', text)

    # å»é™¤è¡¨æƒ…ç¬¦å·å’Œç‰¹æ®Šå­—ç¬¦
    text = re.sub(r'[^\u4e00-\u9fa5a-zA-Z0-9,ã€‚!?ã€ ]', '', text)

    # å»é™¤å¤šä½™ç©ºæ ¼
    text = ' '.join(text.split())

    return text.strip()

# è¯»å–æ•°æ®
df = pd.read_csv('raw_dialogs.csv', encoding='utf-8')

# åº”ç”¨æ¸…æ´—
df['å¯¹è¯'] = df['å¯¹è¯'].apply(clean_text)

print(f"åŸå§‹æ•°æ®: {len(df)}æ¡")

# åˆ é™¤æ— æ•ˆå¯¹è¯
df = df[df['å¯¹è¯'].str.len() >= 5]  # è‡³å°‘5ä¸ªå­—ç¬¦
df = df[~df['å¯¹è¯'].isin(['å“¦', 'å—¯', 'å¥½çš„', 'è°¢è°¢'])]  # åˆ é™¤æ— æ„ä¹‰å¯¹è¯

print(f"æ¸…æ´—å: {len(df)}æ¡")
```

**æ­¥éª¤2: å»é‡**
```python
# åŸºäºå¯¹è¯å†…å®¹å»é‡
df = df.drop_duplicates(subset=['å¯¹è¯'])

print(f"å»é‡å: {len(df)}æ¡")
```

**æ­¥éª¤3: æƒ…æ„Ÿæ ‡æ³¨**

ä½¿ç”¨Label Studioæ ‡æ³¨æƒ…æ„Ÿ:
- æ­£é¢: "ä½ ä»¬çš„æœåŠ¡å¤ªæ£’äº†!"
- è´Ÿé¢: "ç­‰äº†åŠå¤©æ²¡äººå›å¤,å¾ˆå¤±æœ›"
- ä¸­æ€§: "è¯·é—®é€€æ¬¾æµç¨‹æ˜¯ä»€ä¹ˆ?"

**æ­¥éª¤4: è´¨é‡æ£€æŸ¥**
```python
# è¯»å–æ ‡æ³¨æ•°æ®
df_labeled = pd.read_csv('labeled_dialogs.csv')

# æ£€æŸ¥æ ‡ç­¾åˆ†å¸ƒ
label_dist = df_labeled['æƒ…æ„Ÿ'].value_counts()
print("æƒ…æ„Ÿåˆ†å¸ƒ:")
print(label_dist)

# æ£€æŸ¥æ•°æ®è´¨é‡
missing = df_labeled['æƒ…æ„Ÿ'].isnull().sum()
print(f"\nç¼ºå¤±æ ‡ç­¾: {missing}æ¡")

# æŠ½æ ·æ£€æŸ¥
sample = df_labeled.sample(100, random_state=42)
sample.to_csv('quality_check_sample.csv', index=False)
print("âœ… å·²ç”Ÿæˆè´¨æ£€æ ·æœ¬")
```

### é¡¹ç›®æˆæœ

- âœ… 100000æ¡å¯¹è¯æ¸…æ´—å®Œæˆ
- âœ… ä¿ç•™æœ‰æ•ˆå¯¹è¯75000æ¡
- âœ… æ ‡æ³¨å‡†ç¡®ç‡96%(äººå·¥æŠ½æ£€1000æ¡)
- âœ… æ•°æ®æ ¼å¼æ ‡å‡†åŒ–,å¯ç›´æ¥ç”¨äºè®­ç»ƒ

### å­¦å‘˜èƒ½åšçš„å·¥ä½œ

- **æ•°æ®æ¸…æ´—**: ç”¨æ­£åˆ™è¡¨è¾¾å¼å¤„ç†æ–‡æœ¬
- **è´¨é‡æ£€æŸ¥**: ç»Ÿè®¡ç¼ºå¤±å€¼ã€é‡å¤å€¼
- **æ ‡æ³¨ä»»åŠ¡**: ä½¿ç”¨Label Studioæ ‡æ³¨æƒ…æ„Ÿ
- **æ•°æ®å¯¼å‡º**: ç”Ÿæˆæ ‡å‡†æ ¼å¼è®­ç»ƒé›†

---

## æ¡ˆä¾‹3: æ¨¡å‹è®­ç»ƒæ•°æ®é›†å‡†å¤‡å®Œæ•´æµç¨‹

### é¡¹ç›®èƒŒæ™¯

**å®¢æˆ·**: AIç®—æ³•å…¬å¸(å†…éƒ¨é¡¹ç›®)
**éœ€æ±‚**: å‡†å¤‡å›¾åƒåˆ†ç±»æ¨¡å‹è®­ç»ƒæ•°æ®é›†
**æ•°æ®æ¥æº**: å¤šä¸ªæ ‡æ³¨å›¢é˜Ÿæä¾›çš„CSVæ–‡ä»¶
**ä»»åŠ¡**: æ•´åˆã€æ¸…æ´—ã€åˆ’åˆ†æ•°æ®é›†
**æ—¶é—´**: 5å¤©å®Œæˆ

### æŠ€æœ¯è¦æ±‚

**ç”¨åˆ°çš„PythonæŠ€èƒ½**:
- æ‰¹é‡è¯»å–å¤šä¸ªCSVæ–‡ä»¶
- Pandasæ•°æ®åˆå¹¶(concat)
- æ•°æ®æ¸…æ´—å®Œæ•´æµç¨‹
- è®­ç»ƒé›†/æµ‹è¯•é›†åˆ’åˆ†
- æ•°æ®è´¨é‡æŠ¥å‘Šç”Ÿæˆ

### å·¥ä½œæµç¨‹

**Day1: æ•°æ®æ•´åˆ**
```python
import pandas as pd
import os

# è¯»å–å¤šä¸ªCSVæ–‡ä»¶
csv_files = ['team_a.csv', 'team_b.csv', 'team_c.csv']

dfs = []
for file in csv_files:
    df = pd.read_csv(file, encoding='utf-8')
    df['æ¥æº'] = file.split('.')[0]  # è®°å½•æ•°æ®æ¥æº
    dfs.append(df)

# åˆå¹¶æ•°æ®
df_all = pd.concat(dfs, ignore_index=True)

print(f"åˆå¹¶åæ€»æ•°æ®: {len(df_all)}æ¡")
print(f"å„å›¢é˜Ÿæ•°æ®é‡:")
print(df_all['æ¥æº'].value_counts())
```

**Day2: æ•°æ®æ¸…æ´—**
```python
# æ¸…æ´—æµç¨‹
print("=" * 60)
print("æ•°æ®æ¸…æ´—æµç¨‹")
print("=" * 60)

original_count = len(df_all)

# 1. åˆ é™¤æ ‡ç­¾ç¼ºå¤±
df_clean = df_all.dropna(subset=['æ ‡ç­¾'])
print(f"æ­¥éª¤1 - åˆ é™¤æ ‡ç­¾ç¼ºå¤±: {len(df_all)} â†’ {len(df_clean)}")

# 2. åˆ é™¤æ— æ•ˆæ–‡ä»¶æ ¼å¼
df_clean = df_clean[df_clean['æ–‡ä»¶å'].str.endswith(('.jpg', '.png'))]
print(f"æ­¥éª¤2 - åˆ é™¤æ— æ•ˆæ ¼å¼: {len(df_clean)}æ¡")

# 3. å»é‡(ä¿ç•™æœ€æ–°æ ‡æ³¨)
df_clean = df_clean.sort_values('æ ‡æ³¨æ—¶é—´', ascending=False)
df_clean = df_clean.drop_duplicates(subset=['æ–‡ä»¶å'], keep='first')
print(f"æ­¥éª¤3 - å»é‡: {len(df_clean)}æ¡")

# 4. åªä¿ç•™æœ‰æ•ˆæ ‡ç­¾
valid_labels = ['çŒ«', 'ç‹—', 'é¸Ÿ']
df_clean = df_clean[df_clean['æ ‡ç­¾'].isin(valid_labels)]
print(f"æ­¥éª¤4 - è¿‡æ»¤æ ‡ç­¾: {len(df_clean)}æ¡")

# 5. åªä¿ç•™è´¨æ£€é€šè¿‡
df_clean = df_clean[df_clean['è´¨æ£€çŠ¶æ€'] == 'é€šè¿‡']
print(f"æ­¥éª¤5 - è´¨æ£€é€šè¿‡: {len(df_clean)}æ¡")

print(f"\nä¿ç•™ç‡: {len(df_clean)/original_count*100:.1f}%")
```

**Day3: æ•°æ®è´¨é‡åˆ†æ**
```python
# ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š
print("\n" + "=" * 60)
print("æ•°æ®è´¨é‡æŠ¥å‘Š")
print("=" * 60)

# æ ‡ç­¾åˆ†å¸ƒ
label_dist = df_clean['æ ‡ç­¾'].value_counts()
print("\næ ‡ç­¾åˆ†å¸ƒ:")
for label, count in label_dist.items():
    percentage = count / len(df_clean) * 100
    print(f"  {label}: {count}æ¡ ({percentage:.1f}%)")

# æ¥æºåˆ†å¸ƒ
source_dist = df_clean['æ¥æº'].value_counts()
print("\nå„å›¢é˜Ÿè´¡çŒ®:")
for source, count in source_dist.items():
    percentage = count / len(df_clean) * 100
    print(f"  {source}: {count}æ¡ ({percentage:.1f}%)")

# æ•°æ®å‡è¡¡æ€§æ£€æŸ¥
max_count = label_dist.max()
min_count = label_dist.min()
balance_ratio = min_count / max_count * 100

print(f"\næ•°æ®å‡è¡¡åº¦: {balance_ratio:.1f}%")
if balance_ratio < 70:
    print("âš ï¸ è­¦å‘Š: æ•°æ®ä¸å‡è¡¡!")
else:
    print("âœ… æ•°æ®åˆ†å¸ƒè¾ƒå‡è¡¡")
```

**Day4: æ•°æ®é›†åˆ’åˆ†**
```python
from sklearn.model_selection import train_test_split

# åˆ’åˆ†è®­ç»ƒé›†(80%)å’Œæµ‹è¯•é›†(20%)
train_df, test_df = train_test_split(
    df_clean,
    test_size=0.2,
    stratify=df_clean['æ ‡ç­¾'],  # åˆ†å±‚æŠ½æ ·
    random_state=42
)

print(f"\nè®­ç»ƒé›†: {len(train_df)}æ¡")
print(train_df['æ ‡ç­¾'].value_counts())

print(f"\næµ‹è¯•é›†: {len(test_df)}æ¡")
print(test_df['æ ‡ç­¾'].value_counts())

# ä¿å­˜
train_df[['æ–‡ä»¶å', 'æ ‡ç­¾']].to_csv('train.csv', index=False, encoding='utf-8-sig')
test_df[['æ–‡ä»¶å', 'æ ‡ç­¾']].to_csv('test.csv', index=False, encoding='utf-8-sig')

print("\nâœ… æ•°æ®é›†å·²ä¿å­˜: train.csv, test.csv")
```

**Day5: ç”Ÿæˆæ–‡æ¡£**
```python
# ç”ŸæˆREADME.md
readme = f"""
# å›¾åƒåˆ†ç±»æ•°æ®é›†

## æ•°æ®é›†ä¿¡æ¯
- åˆ›å»ºæ—¥æœŸ: 2024-01-15
- æ•°æ®æ¥æº: 3ä¸ªæ ‡æ³¨å›¢é˜Ÿ
- æ€»æ ·æœ¬æ•°: {len(df_clean)}æ¡
- è®­ç»ƒé›†: {len(train_df)}æ¡
- æµ‹è¯•é›†: {len(test_df)}æ¡

## ç±»åˆ«åˆ†å¸ƒ
{label_dist}

## æ•°æ®è´¨é‡
- æ ‡æ³¨å‡†ç¡®ç‡: 98%+ (è´¨æ£€é€šè¿‡)
- æ•°æ®å‡è¡¡åº¦: {balance_ratio:.1f}%
- å›¾ç‰‡æ ¼å¼: JPG/PNG

## ä½¿ç”¨æ–¹æ³•
```python
import pandas as pd

# è¯»å–è®­ç»ƒé›†
train_df = pd.read_csv('train.csv')
```

"""

with open('README.md', 'w', encoding='utf-8') as f:
    f.write(readme)

print("âœ… README.mdå·²ç”Ÿæˆ")
```

### é¡¹ç›®æˆæœ

- âœ… æ•´åˆ3ä¸ªå›¢é˜Ÿæ•°æ®,æ€»è®¡12000æ¡
- âœ… æ¸…æ´—åä¿ç•™8500æ¡é«˜è´¨é‡æ•°æ®
- âœ… æ•°æ®å‡è¡¡åº¦85%(æ¥è¿‘ç†æƒ³çŠ¶æ€)
- âœ… æä¾›å®Œæ•´æ–‡æ¡£å’Œä½¿ç”¨è¯´æ˜

### å­¦å‘˜èƒ½åšçš„å·¥ä½œ

è¿™ä¸ªæ¡ˆä¾‹æ¶µç›–äº†AIæ•°æ®å¤„ç†å·¥ç¨‹å¸ˆçš„æ ¸å¿ƒå·¥ä½œ:
- âœ… æ•°æ®æ•´åˆ(å¤šæºæ•°æ®åˆå¹¶)
- âœ… æ•°æ®æ¸…æ´—(å®Œæ•´æµç¨‹)
- âœ… è´¨é‡åˆ†æ(ç”ŸæˆæŠ¥å‘Š)
- âœ… æ•°æ®é›†åˆ’åˆ†(train/test split)
- âœ… æ–‡æ¡£ç¼–å†™(README)

**è¿™å°±æ˜¯æˆ‘ä»¬10å¤©è¯¾ç¨‹è¦åŸ¹å…»çš„èƒ½åŠ›!**

---

## æ¡ˆä¾‹æ€»ç»“

### ä¸‰ä¸ªæ¡ˆä¾‹çš„å…±åŒç‚¹

| æ ¸å¿ƒæŠ€èƒ½ | æ¡ˆä¾‹1 | æ¡ˆä¾‹2 | æ¡ˆä¾‹3 |
|---------|-------|-------|-------|
| Pandasè¯»å†™CSV | âœ… | âœ… | âœ… |
| æ•°æ®æ¸…æ´— | âœ… | âœ… | âœ… |
| æ•°æ®ç­›é€‰ | âœ… | âœ… | âœ… |
| ç»Ÿè®¡åˆ†æ | âœ… | âœ… | âœ… |
| è´¨é‡æ£€æŸ¥ | âœ… | âœ… | âœ… |
| æŠ¥å‘Šç”Ÿæˆ | âœ… | âœ… | âœ… |

### å¯¹åº”çš„è¯¾ç¨‹ç« èŠ‚

| æŠ€èƒ½ç‚¹ | è¯¾ç¨‹ç« èŠ‚ |
|--------|---------|
| PythonåŸºç¡€è¯­æ³• | Day1-2 |
| å¾ªç¯ä¸æ¡ä»¶åˆ¤æ–­ | Day3-4 |
| å‡½æ•°å°è£… | Day5 |
| æ–‡ä»¶æ“ä½œ | Day6 |
| Pandasæ•°æ®å¤„ç† | Day7 |
| æ ‡æ³¨å·¥å…·ä½¿ç”¨ | Day8 |
| é¡¹ç›®å®æˆ˜ | Day9-10 |

---

**è¿™äº›æ¡ˆä¾‹è¯æ˜: æˆ‘ä»¬çš„10å¤©è¯¾ç¨‹å†…å®¹100%å¯¹æ¥çœŸå®å·¥ä½œåœºæ™¯!** ğŸ¯

```
